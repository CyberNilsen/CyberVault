<UserControl x:Class="CyberVault.Viewmodel.HomeDashboardControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CyberVault.Viewmodel"
             Loaded="UserControl_Loaded"
             mc:Ignorable="d" 
             d:DesignHeight="550" d:DesignWidth="900">

    <UserControl.Resources>
        <Storyboard x:Key="FadeIn">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.6">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)" 
                           From="30" To="0" Duration="0:0:0.6">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#3B82F6"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" 
                                CornerRadius="8" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#2563EB"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#1D4ED8"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="GreenUpdateButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" CornerRadius="8" Padding="{TemplateBinding Padding}">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                    <GradientStop Color="#22C55E" Offset="0"/>
                                    <GradientStop Color="#16A34A" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#4ADE80" Offset="0"/>
                                            <GradientStop Color="#22C55E" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#16A34A" Offset="0"/>
                                            <GradientStop Color="#15803D" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="IconButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Width" Value="48"/>
            <Setter Property="Height" Value="48"/>
            <Setter Property="Padding" Value="12"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="#6B7280" 
                                CornerRadius="8" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#4B5563"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#374151"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="AnimatedCard" TargetType="Border">
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Margin" Value="15,12,15,24"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="SecurityCard" TargetType="Border">
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Margin" Value="0,-2,15,2"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>

    <UserControl.RenderTransform>
        <TranslateTransform Y="0"/>
    </UserControl.RenderTransform>

    <UserControl.Triggers>
        <EventTrigger RoutedEvent="Loaded">
            <BeginStoryboard Storyboard="{StaticResource FadeIn}"/>
        </EventTrigger>
    </UserControl.Triggers>

    <ScrollViewer>
        <Grid>
            <Grid.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#FAFBFC" Offset="0"/>
                    <GradientStop Color="#F1F5F9" Offset="1"/>
                </LinearGradientBrush>
            </Grid.Background>

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" CornerRadius="16" Margin="15,15,15,20" Padding="25,20" 
                    Style="{StaticResource AnimatedCard}">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#1E293B" Offset="0"/>
                        <GradientStop Color="#334155" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" Background="#475569" CornerRadius="25" Width="50" Height="50" 
                            VerticalAlignment="Top" Margin="0,0,20,0">
                        <TextBlock Text="🔐" FontSize="24" Foreground="#60A5FA" 
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                        <TextBlock x:Name="QuoteText" 
                                   Text="Strong passwords and strong security: the foundation of digital trust." 
                                   FontSize="16" Foreground="#F1F5F9" TextWrapping="Wrap" FontStyle="Italic" 
                                   LineHeight="24" Margin="0,0,0,8"/>
                        <TextBlock Text="— CyberVault Security Team" 
                                   FontSize="12" Foreground="#94A3B8" FontWeight="Medium"/>
                    </StackPanel>
                </Grid>
            </Border>

            <Border Grid.Row="1" Background="#FFFFFF" CornerRadius="16" Margin="15,0,15,25" Padding="25,20">

                <StackPanel>
                    <TextBlock Text="Dashboard Overview" 
                               FontWeight="Bold" FontSize="28" Foreground="#1E293B" Margin="0,0,0,8"/>
                    <TextBlock Text="Your security command center" 
                               FontSize="14" Foreground="#64748B" Margin="0,0,0,15"/>
                    <Border Height="4" Width="120" HorizontalAlignment="Left" CornerRadius="2">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#3B82F6" Offset="0"/>
                                <GradientStop Color="#60A5FA" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                    </Border>
                </StackPanel>
            </Border>

            <Border Grid.Row="2" Background="#FFFFFF" CornerRadius="16" Margin="15,0,15,0" 
                    Style="{StaticResource AnimatedCard}">
                
                <Grid Margin="25">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                        <Border Background="#3B82F6" CornerRadius="12" Width="40" Height="40" Margin="0,0,15,0">
                            <TextBlock Text="🔑" FontSize="20" Foreground="White" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="Browser Extension Key" 
                                       FontWeight="Bold" FontSize="18" Foreground="#1E293B"/>
                            <TextBlock Text="Connect your browser securely" 
                                       FontSize="12" Foreground="#64748B" Margin="0,2,0,0"/>
                        </StackPanel>
                    </StackPanel>

                    <TextBlock Grid.Row="1" Text="Copy the key below to connect your browser extension with CyberVault." 
                               FontSize="14" Foreground="#475569" TextWrapping="Wrap" Margin="0,0,0,20"/>

                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0" Background="#F8FAFC" CornerRadius="12" Padding="15" 
                                BorderBrush="#E2E8F0" BorderThickness="1">
                            <Grid>
                                <TextBlock x:Name="ExtensionKeyText" Text="Loading key..." Foreground="#1E293B" 
                                           FontFamily="Consolas" VerticalAlignment="Center" TextTrimming="CharacterEllipsis"
                                           FontSize="14" Visibility="Collapsed"/>
                                <TextBlock x:Name="MaskedKeyText" Text="••••••••••••••••••••••••••" Foreground="#1E293B" 
                                           FontFamily="Consolas" VerticalAlignment="Center" TextTrimming="CharacterEllipsis"
                                           FontSize="14" Visibility="Visible"/>
                            </Grid>
                        </Border>

                        <Button Grid.Column="1" x:Name="ToggleKeyVisibilityButton" Margin="15,0,0,0"
                                Click="ToggleKeyVisibilityButton_Click" Style="{StaticResource IconButton}">
                            <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE7B3;" FontSize="16" Foreground="White"/>
                        </Button>

                        <Button Grid.Column="2" x:Name="CopyKeyButton" Margin="15,0,0,0"
                                Click="CopyKeyButton_Click" Style="{StaticResource ModernButton}">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8C8;" FontSize="14" 
                                           Margin="0,0,8,0" VerticalAlignment="Center"/>
                                <TextBlock Text="Copy Key" FontSize="14" FontWeight="SemiBold" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </Grid>
                </Grid>
            </Border>

            <Border Grid.Row="3" Background="#FFFFFF" CornerRadius="16" Margin="15,20,15,0"
                    Style="{StaticResource AnimatedCard}">

                <Grid Margin="25">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="0,0,0,15">
                            <Border Background="#22C55E" CornerRadius="12" Width="40" Height="40" Margin="0,0,15,0">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE895;" FontSize="18" Foreground="White" 
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Software Updates" 
                                           FontWeight="Bold" FontSize="18" Foreground="#1E293B"/>
                                <TextBlock Text="Stay secure with the latest version" 
                                           FontSize="12" Foreground="#64748B" Margin="0,2,0,0"/>
                            </StackPanel>
                        </StackPanel>

                        <Border Grid.Column="1" Background="#EFF6FF" CornerRadius="20" Padding="16,8"
                                BorderBrush="#3B82F6" BorderThickness="1" VerticalAlignment="Center">
                            <TextBlock x:Name="CurrentVersionText" Text="v4.4.0" 
                                       FontWeight="Bold" FontSize="12" Foreground="#1E40AF" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </Grid>

                    <TextBlock Grid.Row="1" Text="CyberVault automatically checks for updates to keep you protected." 
                               FontSize="14" Foreground="#475569" TextWrapping="Wrap" Margin="0,0,0,20"/>

                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0" Background="#F0FDF4" CornerRadius="12" Padding="15,12"
                                BorderBrush="#22C55E" BorderThickness="1">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE10C;" FontSize="16" Foreground="#22C55E" 
                                           Margin="0,0,12,0" VerticalAlignment="Center"/>
                                <TextBlock x:Name="UpdateStatusText" Text="Your software is up to date" Foreground="#166534" 
                                           VerticalAlignment="Center" TextWrapping="Wrap" FontWeight="Medium"/>
                            </StackPanel>
                        </Border>

                        <Button Grid.Column="1" x:Name="UpdateNowButton" Margin="15,0,0,0"
                                Click="UpdateNowButton_Click" Style="{StaticResource GreenUpdateButton}" 
                                Visibility="Collapsed">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE896;" FontSize="14" 
                                           Margin="0,0,8,0" VerticalAlignment="Center"/>
                                <TextBlock Text="Update Now" FontSize="14" FontWeight="SemiBold" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button Grid.Column="2" x:Name="CheckUpdateButton"
                                Click="CheckUpdateButton_Click" Style="{StaticResource ModernButton}" 
                                Margin="15,0,0,0">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE72C;" FontSize="14" 
                                           Margin="0,0,8,0" VerticalAlignment="Center"/>
                                <TextBlock Text="Check Now" FontSize="14" FontWeight="SemiBold" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </Grid>
                </Grid>
            </Border>

            <Border Grid.Row="4" Background="#FFFFFF" CornerRadius="16" Margin="15,20,15,15"
                    Style="{StaticResource AnimatedCard}">

                <Grid Margin="25">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,25">
                        <Border Background="#F59E0B" CornerRadius="12" Width="40" Height="40" Margin="0,0,15,0">
                            <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE9D9;" FontSize="18" Foreground="White" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="Security Summary" 
                                       FontWeight="Bold" FontSize="18" Foreground="#1E293B"/>
                            <TextBlock Text="Your security metrics at a glance" 
                                       FontSize="12" Foreground="#64748B" Margin="0,2,0,0"/>
                        </StackPanel>
                    </StackPanel>

                    <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0" Background="#FAFBFC" Margin="0,0,15,0" CornerRadius="16" Padding="20"
                                Style="{StaticResource SecurityCard}" BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel>
                                <Border Background="#3B82F6" CornerRadius="20" Width="60" Height="60" 
                                        HorizontalAlignment="Center" Margin="0,0,0,15">
                                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8B7;" FontSize="24" Foreground="White" 
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock x:Name="PasswordCountText" Text="247" FontSize="32" FontWeight="Bold" 
                                           Foreground="#1E293B" HorizontalAlignment="Center" Margin="0,0,0,8"/>
                                <TextBlock Text="Passwords" FontSize="14" Foreground="#3B82F6" HorizontalAlignment="Center" 
                                           FontWeight="Medium"/>
                                <TextBlock Text="Stored securely" FontSize="11" Foreground="#94A3B8" HorizontalAlignment="Center" 
                                           Margin="0,2,0,0"/>
                            </StackPanel>
                        </Border>

                        <Border Grid.Column="1" Background="#FAFBFC" Margin="7.5,0,7.5,0" CornerRadius="16" Padding="20"
                                Style="{StaticResource SecurityCard}" BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel>
                                <Border Background="#22C55E" CornerRadius="20" Width="60" Height="60" 
                                        HorizontalAlignment="Center" Margin="0,0,0,15">
                                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE928;" FontSize="24" Foreground="White" 
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock x:Name="AuthenticatorCountText" Text="18" FontSize="32" FontWeight="Bold" 
                                           Foreground="#1E293B" HorizontalAlignment="Center" Margin="0,0,0,8"/>
                                <TextBlock Text="2FA Tokens" FontSize="14" Foreground="#22C55E" HorizontalAlignment="Center" 
                                           FontWeight="Medium"/>
                                <TextBlock Text="Active protection" FontSize="11" Foreground="#94A3B8" HorizontalAlignment="Center" 
                                           Margin="0,2,0,0"/>
                            </StackPanel>
                        </Border>

                        <Border Grid.Column="2" Background="#FAFBFC" Margin="15,0,0,0" CornerRadius="16" Padding="20"
                                Style="{StaticResource SecurityCard}" BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel>
                                <Border Background="#F59E0B" CornerRadius="20" Width="60" Height="60" 
                                        HorizontalAlignment="Center" Margin="0,0,0,15">
                                    <TextBlock x:Name="SecurityScoreIcon" FontFamily="Segoe MDL2 Assets" Text="&#xE83F;" 
                                               FontSize="24" Foreground="White" 
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock x:Name="SecurityScoreText" Text="92%" FontSize="32" FontWeight="Bold" 
                                           Foreground="#1E293B" HorizontalAlignment="Center" Margin="0,0,0,8"/>
                                <TextBlock Text="Security Score" FontSize="14" Foreground="#F59E0B" HorizontalAlignment="Center" 
                                           FontWeight="Medium"/>
                                <TextBlock Text="Secure status" FontSize="11" Foreground="#94A3B8" HorizontalAlignment="Center" 
                                           Margin="0,2,0,0"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Grid>
            </Border>
        </Grid>
    </ScrollViewer>
</UserControl>